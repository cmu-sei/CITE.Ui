<!--
Copyright 2022 Carnegie Mellon University. All Rights Reserved.
 Released under a MIT (SEI)-style license, please see LICENSE.md in the project root for license information or contact permission@sei.cmu.edu for full terms.
-->

<div class="cssLayoutRowStartCenter">
  <h3>Moves</h3>
</div>

<mat-accordion displayMode="flat" class="mat-table">
  <section
    class="mat-elevation-z2 mat-header-row"
  >
  <span class="mat-header-cell cell-two" mat-header="moveNumber">Move Number</span>
  <span class="mat-header-cell cell-five" mat-header="description">Description</span>
    <span class="mat-header-cell cell-two">
      <button mat-stroked-button (click)="addOrEditMove(null)">Add Move</button>
    </span>
  </section>

  <mat-expansion-panel
    *ngFor="let move of moveList"
    [disabled]="true"
  >
    <mat-expansion-panel-header class="mat-row" *ngIf="!isLoading">
      <span class="mat-cell cell-two">
        <button
          mat-icon-button
          (click)="addOrEditMove(move); $event.stopPropagation()"
          style="outline: none;"
          title="Edit Move"
        >
          <mat-icon class="mdi-24px self-center" fontIcon="mdi-square-edit-outline"></mat-icon>
        </button>
        <button
          mat-icon-button
          (click)="deleteMoveRequest(move); $event.stopPropagation()"
          title="Delete Move"
        >
          <mat-icon
            class="mdi-24px"
            fontIcon="mdi-trash-can"
          ></mat-icon>
        </button>
        {{ move.moveNumber }}
      </span>
      <span class="mat-cell cell-six">
        {{ move.description }}
      </span>
    </mat-expansion-panel-header>
  </mat-expansion-panel>
</mat-accordion>

<mat-card
  *ngIf="isLoading"
  style="display: flex; justify-content: center; align-items: center;"
>
  <mat-progress-spinner color="primary" mode="indeterminate">
  </mat-progress-spinner>
</mat-card>
